function m(a,b){this.c=a;this.a=b}m.prototype.next=function(){return this.a()};m.prototype.add=function(a,b){var c=this,d=0;return b?new m(function(){return c.c()||d<b},function(){if(d<=b){if(c.c()&&d<b)return++d,c.a();d=b+1;return a}return c.a()}):new m(function(){return 0===d},function(){if(c.c())return c.a();++d;return a})};function n(a,b){for(;a.c();)b(a.a())}function p(a,b){return new m(function(){return a.c()},function(){return b(a.a())})}m.prototype.reverse=function(){return q(r(this).reverse())};
function u(a){var b=r(a),c=b.length;if(!c)return v();for(;--c;)if(a=Math.floor(Math.random()*(c+1)),a!==c){var d=b[c];b[c]=b[a];b[a]=d}return q(b)}function r(a){var b=[];n(a,function(a){b.push(a)});return b}m.prototype.toString=function(){return"["+x(this)+"]"};function v(){return new m(function(){return!1},function(){return null})}function q(a){var b=a.length,c=0;return new m(function(){return c<b},function(){return a[c++]})}
function x(a){var b=", ";if(!a.c())return"";b=b||"";var c=a.next();n(a,function(a){c+=b+a});return c}function y(){var a=9;if(!b){var b=a;a=0}return new m(function(){return a<b},function(){return a++})};function z(a,b,c){this.a=new Date(c,b-1,a,12,0,0)}z.prototype.day=function(){return this.a.getDate()};z.prototype.month=function(){return this.a.getMonth()+1};z.prototype.year=function(){return this.a.getFullYear()};z.prototype.add=function(a){return A(new Date(this.a.getTime()+864E5*a))};z.prototype.toString=function(){var a="0000"+this.year(),b="00"+this.month(),c="00"+this.day();return c.substring(c.length-2)+"/"+b.substring(b.length-2)+"/"+a.substring(a.length-4)};
function B(){var a=A(new Date(Date.now()));return[a.day(),a.month(),a.year()]}function A(a){return new z(a.getDate(),a.getMonth()+1,a.getFullYear())};function C(a){this.b=a;this.a=r(u(q(a)))}C.prototype.next=function(){0===this.a.length&&(this.a=r(u(q(this.b))));return this.a.pop()};function D(a){this.a=a}
function E(a){var b=new F,c=G(),d=r(p(y(),function(b){return r(p(y(),function(d){var e=a.a[b][d];if(-1==e)return q([1,2,3,4,5,6,7,8,9]);c.a[b][d]=e;return q([e])}))}));return H(function(){var e=b.b,f=b.a,h=a.a[e][f];c.a[e][f]=h;d[e][f]=-1===h?q([1,2,3,4,5,6,7,8,9]):q([h]);return I(b)},function(){for(var a=b.b,f=b.a,h=d[a][f];h.c();){var g=h.next();a:{var k=3*Math.floor(a/3);for(var w=3*Math.floor(f/3),l=0;9>l;++l)if(l!=a&&c.a[l][f]===g){k=!1;break a}for(l=0;9>l;++l)if(l!=f&&c.a[a][l]===g){k=!1;break a}for(l=
k;l<k+3;++l)for(var t=w;t<w+3;++t)if((l!=a||t!=f)&&c.a[l][t]===g){k=!1;break a}k=!0}if(k)return c.a[a][f]=g,!0}return!1},function(){return J(b)})}function K(a,b,c,d){var e=function(){for(var f=3*Math.floor(b/3),e=3*Math.floor(c/3),g=0;g<b;++g)if(a.a[g][c]==d)return!1;for(g=0;g<c;++g)if(a.a[b][g]==d)return!1;for(g=f;g<b;++g)for(var k=e;k<c;++k)if(a.a[g][k]==d)return!1;for(;f<b;++f)for(g=c;g<e+3;++g)if(a.a[f][g]==d)return!1;return!0}();e&&(a.a[b][c]=d);return e}
D.prototype.toString=function(){for(var a="",b=0;9>b;++b){for(var c=0;9>c;++c){var d=this.a[b][c];a+=-1==d?"-":""+d}a+="\n"}return a};function L(){var a=new F,b=G(),c=r(p(y(),function(){return r(p(y(),function(){return u(q([1,2,3,4,5,6,7,8,9]))}))}));M(function(){var d=a.b,e=a.a;b.a[d][e]=-1;c[d][e]=u(q([1,2,3,4,5,6,7,8,9]));return I(a)},function(){for(var d=a.b,e=a.a,f=c[d][e];f.c();){var h=f.next();if(K(b,d,e,h))return!0}return!1},function(){return J(a)});return b}
function G(){return new D(r(p(y(),function(){return r(p(y(),function(){return-1}))})))}
function N(a){var b=L(),c=G(),d=G();for(a=1===a?0:25+a;;){for(var e=0;9>e;++e)for(var f=new C([0,1,2,3,4,5,6,7,8]),h=0;4>h;++h){var g=f.next(),k=b.a[e][g];c.a[e][g]=k;d.a[e][g]=k}if(1===E(c))break;c=G();d=G()}e=36;for(f=0;9>f;++f){for(h=0;9>h;++h)if(g=c.a[f][h],-1!==g)if(c.a[f][h]=-1,1===E(c)){if(d.a[f][h]=-1,--e,e===a)break}else c.a[f][h]=g;if(e===a)break}a=new C([0,1,2]);e=new C([0,1,2]);f=[];h=[];g=[];for(k=0;3>k;++k)for(var w=a.next(),l=0;3>l;++l){var t=e.next();f.push(b.a[3*w+t]);h.push(c.a[3*
w+t]);g.push(d.a[3*w+t])}b=new D(f);c=new D(h);d=new D(g);for(a=0;-1!==c.a[0][a];)++a;return new O(A(new Date(Date.now())).a.getTime(),B(),[0,a],b.a,c.a,d.a,r(p(y(),function(){return r(p(y(),function(){return!1}))})))};function O(a,b,c,d,e,f,h){this.i=a;this.a=b;this.h=c;this.g=d;this.f=e;this.j=f;this.b=h}O.prototype.time=function(){return 0};function P(a,b){this.b=a;this.a=b}function Q(a,b,c){this.a=a;this.b=b;this.f=c}
(function(a){for(var b=r(p(q(a.a),function(a){return r(q(a))})),c=0;-1!==b[0][c];)++c;return new O(A(new Date(Date.now())).a.getTime(),B(),[0,c],a.b,a.a,b,r(p(y(),function(){return r(p(y(),function(){return!1}))})))})(new function(){this.b=[[2,8,5,6,3,9,1,4,7],[9,1,7,4,2,8,6,3,5],[3,6,4,5,1,7,8,2,9],[8,9,6,2,4,5,3,7,1],[1,4,2,7,8,3,9,5,6],[5,7,3,1,9,6,2,8,4],[4,3,8,9,7,1,5,6,2],[6,2,9,8,5,4,7,1,3],[7,5,1,3,6,2,4,9,8]];this.a=[[-1,-1,-1,-1,3,-1,-1,-1,7],[9,-1,-1,4,-1,-1,6,-1,-1],[-1,-1,-1,-1,-1,7,
-1,-1,-1],[8,-1,-1,-1,-1,5,3,-1,1],[1,-1,-1,-1,8,-1,9,5,-1],[5,7,-1,1,-1,-1,-1,8,-1],[-1,3,-1,9,-1,-1,5,6,-1],[6,-1,9,8,-1,-1,-1,-1,3],[-1,5,1,3,-1,2,-1,-1,-1]]});function M(a,b,c){for(;;)if(b()){if(!c())break}else if(!a())break}function H(a,b,c){for(var d=0;;)if(b()){if(!c()&&(++d,1<d||!a()))return d}else if(!a())return d}function F(){this.f=8;this.a=this.b=0}function J(a){++a.a;if(9===a.a){if(8===a.b)return!1;a.a=0;++a.b}return!0}
function I(a){--a.a;if(-1==a.a){if(0==a.b)return!1;a.a=a.f;--a.b}return!0};this.onmessage=function(a){a=a.data;a=new P(a[0],a[1]);a=new Q(a.b,a.a,N(a.a));var b=a.f;postMessage([a.a,a.b,[b.i,b.a,0,b.h,b.g,b.f,b.j,b.b]])};
